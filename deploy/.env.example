# =============================================================================
# Required Secrets
# =============================================================================
# Copy this file to deploy/.env and replace the placeholder values.
# The deployment script will export everything to Cloud Run for you.

# Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=<CLERK_PUBLISHABLE_KEY>
CLERK_SECRET_KEY=<CLERK_SECRET_KEY>

# Stripe Payments
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key_here
STRIPE_SECRET_KEY=your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret_here

# Public API Security
# Comma-separated label:key pairs. Keys must remain secret and be rotated regularly.
PUBLIC_API_KEYS=primary:ReplaceWithProductionSecretKey
# Maximum allowed clock skew (ms) for signed requests.
PUBLIC_API_TIMESTAMP_WINDOW_MS=300000
# Never enable in production; setting to true bypasses API key checks for smoke tests.
ALLOW_INSECURE_PUBLIC_API=false

# Database (used for seeding + credentials for Cloud SQL user)
# Use at least 16 characters with letters, numbers, and symbols.
DB_PASSWORD=ChangeMeToAStrongPassword123!

# =============================================================================
# Optional Integrations
# =============================================================================
RESEND_API_KEY=
SENTRY_DSN=
NEXT_PUBLIC_POSTHOG_KEY=

# Optional Clerk routing overrides
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# =============================================================================
# Automatically Managed (no need to edit)
# =============================================================================
# The deployment script calculates and sets the following variables:
# - DATABASE_URL (per environment)
# - NEXT_PUBLIC_API_URL
# - CORS_ORIGINS
# - NODE_ENV / runtime configuration
# - GCP project and region specifics
#
# If you need to override any of them, export the variable before running the
# deployment script or edit deploy/config.sh for project-level settings.